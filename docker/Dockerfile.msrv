# Dockerfile for MSRV (Minimum Supported Rust Version) testing
# Uses Rust 1.85 to match rust-version in Cargo.toml

FROM rust:1.85-bookworm

# Install additional tools
RUN apt-get update && apt-get install -y \
    pkg-config \
    libssl-dev \
    && rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /app

# Copy the project
COPY . .

# Default command checks that project compiles with MSRV
CMD ["cargo", "check", "--all-features"]
